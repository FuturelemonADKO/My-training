from datetime import datetime, date, time, timedelta
def analyze_work_time(intervals):
    if not intervals:
        return {
            'total_hours': 0.0,
            'intervals_count': 0,
            'workday_length': 0.0
        }
    base_date = datetime.now().date()
    st=[]
    end=[]
    total_hours = 0.0
    for st_time,end_time in intervals:
        st_time=datetime.combine(base_date, datetime.strptime(st_time, "%H:%M").time())
        end_time=datetime.combine(base_date, datetime.strptime(end_time,"%H:%M").time())
        if end_time < st_time:
            end_time += timedelta(days=1)
        total_hours += (end_time-st_time).total_seconds() / 3600
        st.append(st_time)
        end.append(end_time)
    workday=(max(end)-min(st)).total_seconds() / 3600
        
    return{
        "total_hours": round(total_hours,2),
        "intervals_count": len(intervals),
        "workday_length": round(workday,2)       
    }

if __name__ == "__main__":
    print("\n=== Ð¢ÐµÑÑ‚Ñ‹ Ð´Ð»Ñ Ð—Ð°Ð´Ð°Ð½Ð¸Ñ 1.2 ===")

    # Ð¢ÐµÑÑ‚ 1: Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ñ€Ð°Ð±Ð¾Ñ‡Ð¸Ð¹ Ð´ÐµÐ½ÑŒ
    test1 = analyze_work_time([("09:00", "12:00"), ("13:00", "18:00")])
    assert test1['total_hours'] == 8.0, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ 8.0, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test1['total_hours']}"
    assert test1['intervals_count'] == 2, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ 2 Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ð°, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test1['intervals_count']}"
    assert test1['workday_length'] == 9.0, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð°ÑÑŒ Ð´Ð»Ð¸Ð½Ð° Ð´Ð½Ñ 9.0, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test1['workday_length']}"
    print("âœ… Ð¢ÐµÑÑ‚ 1 Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½: Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ñ€Ð°Ð±Ð¾Ñ‡Ð¸Ð¹ Ð´ÐµÐ½ÑŒ")

    # Ð¢ÐµÑÑ‚ 2: ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ð¾Ð²
    test2 = analyze_work_time([("08:00", "10:00"), ("11:00", "13:00"), ("14:00", "17:00")])
    assert test2['total_hours'] == 7.0, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ 7.0, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test2['total_hours']}"
    assert test2['intervals_count'] == 3, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ 3 Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ð°, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test2['intervals_count']}"
    assert test2['workday_length'] == 9.0, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð°ÑÑŒ Ð´Ð»Ð¸Ð½Ð° Ð´Ð½Ñ 9.0, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test2['workday_length']}"
    print("âœ… Ð¢ÐµÑÑ‚ 2 Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½: ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ð¾Ð²")

    # Ð¢ÐµÑÑ‚ 3: Ð”Ñ€Ð¾Ð±Ð½Ñ‹Ðµ Ñ‡Ð°ÑÑ‹
    test3 = analyze_work_time([("09:30", "12:45"), ("13:15", "17:30")])
    # Ð Ð°ÑÑ‡ÐµÑ‚: (12:45 - 09:30 = 3.25) + (17:30 - 13:15 = 4.25) = 7.5
    assert test3['total_hours'] == 7.5, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ 7.5, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test3['total_hours']}"
    print("âœ… Ð¢ÐµÑÑ‚ 3 Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½: Ð”Ñ€Ð¾Ð±Ð½Ñ‹Ðµ Ñ‡Ð°ÑÑ‹")

    # Ð¢ÐµÑÑ‚ 4: ÐŸÑƒÑÑ‚Ð¾Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº
    test4 = analyze_work_time([])
    assert test4['total_hours'] == 0.0, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ 0.0, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test4['total_hours']}"
    assert test4['intervals_count'] == 0, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ 0 Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ð¾Ð², Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test4['intervals_count']}"
    assert test4['workday_length'] == 0.0, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð°ÑÑŒ Ð´Ð»Ð¸Ð½Ð° Ð´Ð½Ñ 0.0, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test4['workday_length']}"
    print("âœ… Ð¢ÐµÑÑ‚ 4 Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½: ÐŸÑƒÑÑ‚Ð¾Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº")

    # Ð¢ÐµÑÑ‚ 5: ÐÐ¾Ñ‡Ð½Ð°Ñ ÑÐ¼ÐµÐ½Ð° (Ð¿Ð¾ÑÐ»Ðµ Ð¿Ð¾Ð»ÑƒÐ½Ð¾Ñ‡Ð¸)
    test5 = analyze_work_time([("22:00", "02:00")])
    # 22:00 Ð´Ð¾ 02:00 ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ³Ð¾ Ð´Ð½Ñ = 4 Ñ‡Ð°ÑÐ°
    assert test5['total_hours'] == 4.0, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ 4.0, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test5['total_hours']}"
    print("âœ… Ð¢ÐµÑÑ‚ 5 Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½: ÐÐ¾Ñ‡Ð½Ð°Ñ ÑÐ¼ÐµÐ½Ð°")

    # Ð¢ÐµÑÑ‚ 6: Ð˜Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ñ‹ Ð½Ðµ Ð¿Ð¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÑƒ
    test6 = analyze_work_time([("14:00", "18:00"), ("09:00", "12:00")])
    assert test6['total_hours'] == 7.0, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ 7.0, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test6['total_hours']}"
    assert test6['workday_length'] == 9.0, f"ÐžÐ¶Ð¸Ð´Ð°Ð»Ð°ÑÑŒ Ð´Ð»Ð¸Ð½Ð° Ð´Ð½Ñ 9.0, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ {test6['workday_length']}"
    print("âœ… Ð¢ÐµÑÑ‚ 6 Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½: Ð˜Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ñ‹ Ð½Ðµ Ð¿Ð¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÑƒ")

    print("\nðŸŽ‰ Ð’ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹ Ð´Ð»Ñ Ð—Ð°Ð´Ð°Ð½Ð¸Ñ 1.2 Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ñ‹ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾!")
